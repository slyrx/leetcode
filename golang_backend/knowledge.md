```golang
      客 户 端                      服 务 器
        |                              |
        |---------SYN=1, Seq=X-------->|
        |                              |
        |<-----SYN=1, ACK=1, Seq=Y---->|
        |                              |
        |---------ACK=1, Seq=X+1------>|
        |                              |
     连接建立                        连接建立


      客 户 端                      服 务 器
        |                              |
        |-------FIN=1, Seq=X---------->|
        |                              |
        |<------ACK=1, Seq=Y, ACK=X+1-->|
        |                              |
        |<-------FIN=1, Seq=Z, ACK=X+1--|
        |                              |
        |-------ACK=1, Seq=X+1, ACK=Z-->|
        |                              |
     连接关闭                        连接关闭



+-------------------------+
|   Go 调度器 (Scheduler)   |
+-------------------------+
        |
        |  负责调度和管理 Goroutines
        |
+-------|-------|-------|-------+
|   P1  |   P2  |   P3  |   P4  |
|   +---|---+   |   +---|---+   |
|   | G0|   |   |   |   |   |   |
|   +---|---+   |   +---|---+   |
|       |       |       |       |
|       |       |       |       |
+-------|-------|-------|-------+
        |
        |  与 M 相关联
        |
+-------------------------+
|     Machines (M)        |
+-------------------------+
        |
        |  实际执行线程管理
        |
+-------|-------|-------|-------+
|   M1  |   M2  |   M3  |   M4  |
|   |   |   |   |   |   |   |   |
|   |   |   |   |   |   |   |   |
|   |   |   |   |   |   |   |   |
+-------|-------|-------|-------+

全局队列 GQ: [G1, G2]
P1 本地队列: [G0]
P2 本地队列: []




+-------------------------+
|   Go 调度器 (Scheduler)   |
+-------------------------+
        |
        |  负责调度和管理 Goroutines
        |
+-------|-------|-------|-------+
|   P1  |   P2  |   P3  |   P4  |
|   +---|---+   |   +---|---+   |
|   |   |   |   |   |   |   |   |
|   +---|---+   |   +---|---+   |
|       |       |       |       |
|       |       |       |       |
+-------|-------|-------|-------+
        |
        |  与 M 相关联
        |
+-------------------------+
|     Machines (M)        |
+-------------------------+
        |
        |  实际执行线程管理
        |
+-------|-------|-------|-------+
|   M1  |   M2  |   M3  |   M4  |
|   |   |   |   |   |   |   |   |
|   |   |   |   |   |   |   |   |
|   |   |   |   |   |   |   |   |
+-------|-------|-------|-------+

全局队列 GQ: [G6, G7]
P1 本地队列: [G1, G2, G3]
P2 本地队列: [G4, G5]





+-------------------------+
|   Go 调度器 (Scheduler)   |
+-------------------------+
        |
        |  负责调度和管理 Goroutines
        |
+-------|-------|-------|-------+
|   P1  |   P2  |   P3  |   P4  |
|   +---|---+   |   +---|---+   |
|   |   |   |   |   |   |   |   |
|   +---|---+   |   +---|---+   |
|       |       |       |       |
|       |       |       |       |
+-------|-------|-------|-------+
        |
        |  与 M 相关联
        |
+-------------------------+
|     Machines (M)        |
+-------------------------+
        |
        |  实际执行线程管理
        |
+-------|-------|-------|-------+
|   M1  |   M2  |   M3  |   M4  |
|   |   |   |   |   |   |   |   |
|   |   |   |   |   |   |   |   |
|   |   |   |   |   |   |   |   |
+-------|-------|-------|-------+




+-------------------+
|   Pointer (指针)   | --> 指向底层数组的起始位置
+-------------------+
|    Length (长度)    | --> 切片中当前存储的元素数量
+-------------------+
|   Capacity (容量)   | --> 切片从起始位置到底层数组末尾的可用元素数量
+-------------------+


mySlice := make([]int, 0, 10) // 创建一个整数切片，初始长度为0，容量为10



var myMap = make(map[string]int)
var mutex = sync.Mutex{}

// 写操作
mutex.Lock()
myMap["key"] = 123
mutex.Unlock()

// 读操作
mutex.Lock()
value := myMap["key"]
mutex.Unlock()

var myMap = sync.Map{}

// 写操作
myMap.Store("key", 123)

// 读操作
value, found := myMap.Load("key")
if found {
    // 处理 value
}



import (
    "context"
    "fmt"
    "time"
)

func main() {
    // 创建一个带有超时的 context，超时时间为 2 秒
    ctx, cancel := context.WithTimeout(context.Background(), 2*time.Second)
    defer cancel() // 确保在函数退出时取消 context

    // 在一个 goroutine 中执行耗时的操作，检查 context 是否被取消
    go func() {
        select {
        case <-time.After(3 * time.Second):
            fmt.Println("Operation completed")
        case <-ctx.Done():
            fmt.Println("Operation canceled or timed out")
        }
    }()

    // 阻塞等待操作完成或超时
    <-ctx.Done()
}


ch := make(chan int)
go func() {
    ch <- 12 // 向channel发送数据
}()

data := <-ch // 从channel接收数据



ch := make(chan bool)
go func() {
    // 执行一些操作
    // ...

    ch <- true // 操作完成后发送信号
}()

// 等待操作完成
<-ch


ch := make(chan bool, 10) // 带缓冲的channel，容量为10

for i := 0; i < 20; i++ {
    go func(id int) {
        // 执行一些操作
        // ...

        ch <- true // 发送信号
    }(i)
}

// 等待所有操作完成
for i := 0; i < 20; i++ {
    <-ch
}



+-------------------------+
|   Go 调度器 (Scheduler)   |
+-------------------------+
        |
        |  负责调度和管理 Goroutines
        |
+-------|-------|-------|-------+
|   P   |   P   |   P   |   P   |
|   +---|---+   |   +---|---+   |
|   | G | G |   |   | G | G |   |
|   +---|---+   |   +---|---+   |
|       |       |       |       |
+-------|-------|-------|-------+
        |
        |  与 M 相关联
        |
+-------------------------+
|     Machines (M)        |
+-------------------------+
        |
        |  实际执行线程管理
        |
+-------|-------|-------|-------+
|   M   |   M   |   M   |   M   |
|       |       |       |       |
|       |       |       |       |
|       |       |       |       |
+-------|-------|-------|-------+


+-------------------------+
|   Go 调度器 (Scheduler)   |
+-------------------------+
        |
        |  负责调度和管理 Goroutines
        |
+-------|-------|-------|-------+
|   P1  |   P2  |   P3  |   P4  |
|   +---|---+   |   +---|---+   |
|   | G1| G3|   |   |   |   |   |
|   +---|---+   |   +---|---+   |
|       |       |       |       |
+-------|-------|-------|-------+
        |
        |  与 M 相关联
        |
+-------------------------+
|     Machines (M)        |
+-------------------------+
        |
        |  实际执行线程管理
        |
+-------|-------|-------|-------+
|   M1  |   M2  |   M3  |   M4  |
|       |       |       |       |
|       |       |       |       |
|       |       |       |       |
+-------|-------|-------|-------+




+-------------------------+
|   Go 调度器 (Scheduler)   |
+-------------------------+
        |
        |  负责调度和管理 Goroutines
        |
+-------|-------|-------|-------+
|   P1  |   P2  |   P3  |   P4  |
|   +---|---+   |   +---|---+   |
|   | G2| G0|   |   |   |   |   |
|   +---|---+   |   +---|---+   |
|       |       |       |       |
+-------|-------|-------|-------+
        |
        |  与 M 相关联
        |
+-------------------------+
|     Machines (M)        |
+-------------------------+
        |
        |  实际执行线程管理
        |
+-------|-------|-------|-------+
|   M1  |   M2  |   M3  |   M4  |
|       |       |       |       |
|       |       |       |       |
|       |       |       |       |
+-------|-------|-------|-------+



+-------------------------+
|   Go 调度器 (Scheduler)   |
+-------------------------+
        |
        |  负责调度和管理 Goroutines
        |
+-------|-------|-------|-------+
|   P1  |   P2  |   P3  |   P4  |
|   +---|---+   |   +---|---+   |
|   | G0| G1|   |   | G2| G3|   |
|   +---|---+   |   +---|---+   |
|       |       |   |       |   |
|       |       |   |       |   |
+-------|-------|-------|-------+
        |
        |  与 M 相关联
        |
+-------------------------+
|     Machines (M)        |
+-------------------------+
        |
        |  实际执行线程管理
        |
+-------|-------|-------|-------+
|   M1  |   M2  |   M3  |   M4  |
|   |   |   |   |   |   |   |   |
|   |   |   |   |   |   |   |   |
|   |   |   |   |   |   |   |   |
+-------|-------|-------|-------+



全局队列（Global Queue）：G1, G2, G3, ...
本地队列（Local Queue P1）：[已满]
P队列（Processor Queue）：[P1正在执行G2]
M队列（Machine Queue）：[M1正在执行G2的Goroutines]


+-------------------------+
|   Go 调度器 (Scheduler)   |
+-------------------------+
        |
        |  负责调度和管理 Goroutines
        |
+-------|-------|-------|-------+
|   P1  |   P2  |   P3  |   P4  |
|   +---|---+   |   +---|---+   |
|   | G0|   |   |   |   | G2|   |
|   +---|---+   |   +---|---+   |
|       |       |       |       |
|       |       |       |       |
+-------|-------|-------|-------+
        |
        |  与 M 相关联
        |
+-------------------------+
|     Machines (M)        |
+-------------------------+
        |
        |  实际执行线程管理
        |
+-------|-------|-------|-------+
|   M1  |   M2  |   M3  |   M4  |
|   |   |   |   |   |   |   |   |
|   |   |   |   |   |   |   |   |
|   |   |   |   |   |   |   |   |
+-------|-------|-------|-------+


+-------------------------+
|   Go 调度器 (Scheduler)   |
+-------------------------+
        |
        |  负责调度和管理 Goroutines
        |
+-------|-------|-------|-------+
|   P1  |   P2  |   P3  |   P4  |
|   +---|---+   |   +---|---+   |
|   | G0|   |   |   |   | G2|   |
|   +---|---+   |   +---|---+   |
|       |       |       |       |
|       |       |       |       |
+-------|-------|-------|-------+
        |
        |  与 M 相关联
        |
+-------------------------+
|     Machines (M)        |
+-------------------------+
        |
        |  实际执行线程管理
        |
+-------|-------|-------|-------+
|   M1  |   M2  |   M3  |   M4  |
|   |   |   |   |   |   |   |   |
|   |   |   |   |   |   |   |   |
|   |   |   |   |   |   |   |   |
+-------|-------|-------|-------+


```
